
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Gestión de Jugadores</title>
    <script type="module">
        // Importar Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";

        // Configuración de Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAaamjQ69jxcujSqRyqvXMmP2XekrpJbKo",
            authDomain: "club-futbol-b834c.firebaseapp.com",
            projectId: "club-futbol-b834c",
            storageBucket: "club-futbol-b834c.firebasestorage.app",
            messagingSenderId: "837380107385",
            appId: "1:837380107385:web:f418b5d581d64fe377b8a8"
        };

        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Función para agregar jugador
        document.addEventListener("DOMContentLoaded", () => {
            const form = document.getElementById("formJugador");
            const tabla = document.getElementById("tablaJugadores");

            async function cargarJugadores() {
                tabla.innerHTML = "";
                const querySnapshot = await getDocs(collection(db, "jugadores"));
                querySnapshot.forEach((docSnap) => {
                    const jugador = docSnap.data();
                    const fila = document.createElement("tr");
                    fila.innerHTML = `
                        <td>${jugador.nombre}</td>
                        <td>${jugador.edad}</td>
                        <td>${jugador.posicion}</td>
                        <td>${jugador.equipo}</td>
                        <td><button data-id="${docSnap.id}" class="eliminar">Eliminar</button></td>
                    `;
                    tabla.appendChild(fila);
                });
            }

            form.addEventListener("submit", async (e) => {
                e.preventDefault();
                const nombre = form.nombre.value;
                const edad = form.edad.value;
                const posicion = form.posicion.value;
                const equipo = form.equipo.value;

                await addDoc(collection(db, "jugadores"), {
                    nombre, edad, posicion, equipo
                });

                form.reset();
                cargarJugadores();
            });

            tabla.addEventListener("click", async (e) => {
                if (e.target.classList.contains("eliminar")) {
                    const id = e.target.getAttribute("data-id");
                    await deleteDoc(doc(db, "jugadores", id));
                    cargarJugadores();
                }
            });

            cargarJugadores();
        });
    </script>
</head>
<body>
    <h1>Gestión de Jugadores</h1>
    <form id="formJugador">
        <input type="text" name="nombre" placeholder="Nombre" required>
        <input type="number" name="edad" placeholder="Edad" required>
        <input type="text" name="posicion" placeholder="Posición" required>
        <input type="text" name="equipo" placeholder="Equipo" required>
        <button type="submit">Agregar Jugador</button>
    </form>
    <h2>Lista de Jugadores</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Edad</th>
                <th>Posición</th>
                <th>Equipo</th>
                <th>Acción</th>
            </tr>
        </thead>
        <tbody id="tablaJugadores"></tbody>
    </table>
</body>
</html>
